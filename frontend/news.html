<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>新冠肺炎实时疫情</title>
	<link rel="stylesheet" type="text/css" href="static/css/news.css" />
	<link rel="stylesheet" type="text/css" href="static/css/main.css" />
	<script type="text/javascript" src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>

</head>
<body>
	<div id="header">
			<h1 style="display:inline;margin:5px 10px">新冠肺炎疫情最新资讯</h1>
			<div id="pageJump">
				<p id="pageJumpFont" style="margin:5px 10px 5px 184px"><a href="index.html">返回</a></p>
				<img src="static/img/moveIcon.png" style="margin: 22px 0px -14px 0px" />
			</div>
	</div>
	
	<div id="wrap">
		
		<div id="content">
			<div id="publicHotSearch">
				<div  class="newsTitle">
					<h2 class="newsTitleM">大众热搜</h2>
					<img src="static/img/hotSearchIcon.png" />
				</div>
				
				<h4 class="no1">1.</h4><a href="javascript:void(0)" id="new1">热搜1</a>
				<img src="static/img/mostHotSearchIcon.png" style="float:right;margin-right:10px" />
				<div class="lines"></div>
				
				<h4 class="no2">2.</h4><a href="javascript:void(0)" id="new2">热搜2</a>
				<img src="static/img/mostHotSearchIcon.png" style="float:right;margin-right:10px" />
				<div class="lines"></div>
				
				<h4 class="no3">3.</h4><a href="javascript:void(0)" id="new3">热搜3</a>
				<img src="static/img/mostHotSearchIcon.png" style="float:right;margin-right:10px" />
				<div class="lines"></div>
				
				<h4 class="no4To10">4.</h4><a href="javascript:void(0)" id="new4">热搜4</a>
				<div class="lines"></div>
				<h4 class="no4To10">5.</h4><a href="javascript:void(0)" id="new5">热搜5</a>
				<div class="lines"></div>
				<h4 class="no4To10">6.</h4><a href="javascript:void(0)" id="new6">热搜6</a>
				<div class="lines"></div>
				<h4 class="no4To10">7.</h4><a href="javascript:void(0)" id="new7">热搜7</a>
				<div class="lines"></div>
				<h4 class="no4To10">8.</h4><a href="javascript:void(0)" id="new8">热搜8</a>
			</div>
			
			<div id="ShatterRumors">
				<div class="newsTitle">
					<h2 class="newsTitleM">谣言粉碎</h2>
					<img src="static/img/WarningIcon.png" style="position: relative;top: 8px" />
				</div>
				
				<h4 class="no1">1.</h4><a href="javascript:void(0)" id="rumor1">谣言1</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>
				
				<h4 class="no2">2.</h4><a href="javascript:void(0)" id="rumor2">谣言2</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>
				
				<h4 class="no3">3.</h4><a href="javascript:void(0)" id="rumor3">谣言3</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>
				
				<h4 class="no4To10">4.</h4><a href="javascript:void(0)" id="rumor4">谣言4</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>
				
				<h4 class="no4To10">5.</h4><a href="javascript:void(0)" id="rumor5">谣言5</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>

				<h4 class="no4To10">6.</h4><a href="javascript:void(0)" id="rumor6">谣言6</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>

				<h4 class="no4To10">7.</h4><a href="javascript:void(0)" id="rumor7">谣言7</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>

				<h4 class="no4To10">8.</h4><a href="javascript:void(0)" id="rumor8">谣言8</a>
				<img src="static/img/rumorIcon.png" style="margin-left:10px;vertical-align:bottom" />
				<div class="lines"></div>
			</div>
		</div>
	</div>
</body>
<script>
	function update_news (data) {
		let news = data.news;
		let fake_news = data.fake_news;

		for (let i=1;i<=8;i++) {
			let news_dom = document.getElementById('new'+ i.toString());
			let fake_dom = document.getElementById('rumor'+ i.toString());
			news_dom.setAttribute('href', news[i-1].url);
			news_dom.innerText = news[i-1].title;
			fake_dom.setAttribute('href', fake_news[i-1].url);
			fake_dom.innerText = fake_news[i-1].title;
		}

	}
	$(document).ready(function () {
		$.get('/api/news', function (data, status) {
				if (status !== 'success'){
					alert('获取数据失败')
				} else {
					data = JSON.parse(data)
					update_news(data)
				}
			})
	})
</script>
</html>
